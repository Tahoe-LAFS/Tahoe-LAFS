<html xmlns:t="http://twistedmatrix.com/ns/twisted.web.template/0.1">
  <head>
    <title>Tahoe-LAFS - Storage Server Status</title>
    <link href="/tahoe.css" rel="stylesheet" type="text/css"/>
    <link href="/icon.png" rel="shortcut icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
<body>

<div t:render="storage_running">

  <h1>Storage Server Status</h1>

  <table t:render="storage_stats">
    <tr><td>Total disk space:</td>
        <td><span><t:slot name="disk_total_abbrev" /></span></td>
        <td>(<span><t:slot name="disk_total" /></span>)</td>
        <td />
      </tr>
    <tr><td>Disk space used:</td>
        <td>- <span><t:slot name="disk_used_abbrev" /></span></td>
        <td>(<span><t:slot name="disk_used" /></span>)</td>
        <td />
      </tr>
    <tr><td />
        <td>======</td>
        <td />
        <td />
      </tr>
    <tr><td>Disk space free (root):</td>
        <td><span><t:slot name="disk_free_for_root_abbrev" /></span></td>
        <td>(<span><t:slot name="disk_free_for_root" /></span>)</td>
        <td>[see 1]</td>
        </tr>
    <tr><td>Disk space free (non-root):</td>
        <td><span><t:slot name="disk_free_for_nonroot_abbrev" /></span></td>
        <td>(<span><t:slot name="disk_free_for_nonroot" /></span>)</td>
        <td>[see 2]</td>
        </tr>
    <tr><td>Reserved space:</td>
        <td>- <span><t:slot name="reserved_space_abbrev" /></span></td>
        <td>(<span><t:slot name="reserved_space" /></span>)</td>
        <td />
      </tr>
    <tr><td />
        <td>======</td>
        <td />
        <td />
      </tr>
    <tr><td>Space Available to Tahoe:</td>
        <td><span><t:slot name="disk_avail_abbrev" /></span></td>
        <td>(<span><t:slot name="disk_avail" /></span>)</td>
        <td />
      </tr>
  </table>

  <ul t:render="storage_info">
    <li>Server Nickname: <span class="nickname mine"><t:slot name="nickname" /></span></li>
    <li>Server Nodeid: <span class="nodeid mine data-chars"><t:slot name="nodeid" /></span></li>
    <li>Accepting new shares: <span><t:slot name="accepting_immutable_shares" /></span></li>
    <li>Total buckets:
       <span><t:slot name="last_complete_bucket_count" /></span>
       (the number of files and directories for which this server is holding
        a share)
      <ul>
        <li t:render="count_crawler_status" />
      </ul>
    </li>
  </ul>

  <h2>Lease Expiration Crawler</h2>

  <ul>
    <li>Expiration <span t:render="lease_expiration_enabled" /></li>
    <li t:render="lease_expiration_mode" />
    <li t:render="lease_current_cycle_progress" />
    <li t:render="lease_current_cycle_results" />
    <li t:render="lease_last_cycle_results" />
  </ul>

  <hr />
  <p>[1]: Some of this space may be reserved for the superuser.</p>
  <p>[2]: This reports the space available to non-root users, including the
  Tahoe-LAFS node.</p>

  <p>See this page <a href="?t=json">in JSON</a></p>
</div>

</body>
</html>
